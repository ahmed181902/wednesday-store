<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Wednesday Store | متجر الأربعاء</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  <style>
    body {font-family: 'Cairo', Arial, sans-serif; background: #f8f9fa; margin: 0; color: #222;}
    header {background: #23272e; color: #fff; padding: 1rem 0; display: flex; align-items: center; justify-content: space-between;}
    .logo {display: flex; align-items: center; gap: 10px; font-size: 1.5rem; font-weight: bold;}
    nav {display: flex; gap: 18px;}
    nav a {color: #fff; text-decoration: none; font-weight: 500; font-size: 1rem; padding: 8px 18px; border-radius: 22px;}
    nav a.active, nav a:hover {background: #ffd700; color: #23272e;}
    .lang-switch {background: none; border: none; color: #ffd700; font-weight: bold; font-size: 1rem; cursor: pointer;}
    .container {max-width: 1200px; margin: 0 auto; padding: 24px 16px;}
    .section-title {font-size: 1.4rem; color: #23272e; margin-bottom: 24px; border-right: 6px solid #ffd700; padding-right: 12px; font-weight: bold;}
    .categories-list {display: flex; gap: 12px; margin-bottom: 18px; flex-wrap: wrap;}
    .categories-list button {background: #23272e; color: #fff; border: none; border-radius: 18px; padding: 8px 20px; font-size: 1rem; cursor: pointer;}
    .categories-list button.active, .categories-list button:hover {background: #ffd700; color: #23272e;}
    .products-grid {display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 22px; margin-bottom: 32px;}
    .product-card {background: #fff; border-radius: 12px; box-shadow: 0 2px 12px rgba(35,39,46,0.07); padding: 18px; text-align: center;}
    .product-card img {width: 100px; height: 100px; object-fit: cover; border-radius: 8px; margin-bottom: 8px; border: 1px solid #eee;}
    .product-card .cat {background: #f8f9fa; color: #23272e; border-radius: 12px; padding: 4px 14px; display: inline-block; font-size: 0.95rem; margin-bottom: 5px;}
    .product-card .name {font-weight: bold; font-size: 1.1rem; color: #23272e; margin-bottom: 4px;}
    .product-card .price {color: #25d366; font-size: 1.2rem; margin-bottom: 4px; display: inline-block;}
    .product-card .old-price {color: #888; text-decoration: line-through; font-size: 1rem; margin-left: 8px; display: inline-block;}
    .product-card .discount-badge {background: #e74c3c; color: #fff; border-radius: 8px; padding: 2px 10px; font-size: 0.95rem; display: inline-block; margin-right: 6px; margin-bottom: 3px;}
    .product-card .offer-badge {background: #ffd700; color: #23272e; border-radius: 8px; padding: 2px 10px; font-size: 0.93rem; display: inline-block; margin-bottom: 3px; margin-right: 6px;}
    .product-card .desc {color: #555; font-size: 0.98rem; margin-bottom: 8px; min-height: 36px;}
    .product-card button {background: #23272e; color: #fff; border: none; border-radius: 8px; padding: 8px 22px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 8px;}
    .product-card button:hover {background: #ffd700; color: #23272e;}
    .cart-btn {background: #fff; color: #23272e; border: none; border-radius: 50%; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; position: relative; margin-left: 18px; cursor: pointer;}
    .cart-btn .cart-count {position: absolute; top: 5px; left: 8px; background: #e74c3c; color: #fff; border-radius: 50%; width: 18px; height: 18px; font-size: 0.9rem; display: flex; align-items: center; justify-content: center; font-weight: bold;}
    .social-links {display: flex; gap: 10px; margin-right: 10px;}
    .social-links a {color: #fff; font-size: 1.3rem;}
    .social-links a:hover {color: #ffd700;}
    footer {text-align:center;padding:24px 0;color:#888;}
    @media (max-width: 900px) {.products-grid {grid-template-columns: repeat(auto-fit,minmax(170px,1fr));}}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <svg viewBox="0 0 48 48"><circle cx="24" cy="24" r="22" fill="#fff"/><rect x="14" y="14" width="20" height="20" rx="6" fill="#23272e"/><rect x="20" y="32" width="8" height="3" rx="1.5" fill="#ffd700"/></svg>
      <span id="logoText">Wednesday Store</span>
    </div>
    <nav>
      <a href="#" class="active" id="navHome"></a>
      <a href="#" id="navProducts"></a>
      <a href="#" id="navOffers"></a>
      <a href="#" id="navAbout"></a>
      <a href="#" id="navContact"></a>
    </nav>
    <div class="social-links">
      <a href="https://www.facebook.com/profile.php?id=61578187973897&sk=about" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://www.instagram.com/wednesdaystore2025/" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://wa.me/201013154821" target="_blank"><i class="fab fa-whatsapp"></i></a>
    </div>
    <button class="lang-switch" onclick="switchLang()"></button>
    <button class="cart-btn" onclick="showCart()">
      <i class="fas fa-shopping-bag"></i>
      <span class="cart-count" id="cartCount">0</span>
    </button>
  </header>
  <div class="container" id="mainContent"></div>
  <footer>Wednesday Store &copy; 2025 - All rights reserved</footer>
  <script>
    // ترجمة النصوص
    const texts = {
      ar: {home:"الرئيسية",products:"المنتجات",offers:"العروض",about:"عن المتجر",contact:"اتصل بنا",cart:"سلة التسوق",ourProducts:"منتجاتنا المتنوعة",latestOffers:"أحدث العروض",wednesdayOffers:"عروض الأربعاء",electronics:"إلكترونيات",covers:"كفرات",gaming:"جيمنج",mobile:"جوال",all:"الكل",addToCart:"أضف للسلة",checkout:"إتمام الشراء",confirmOrder:"تأكيد الطلب",total:"الإجمالي",emptyCart:"السلة فارغة.",remove:"حذف",clearCart:"إفراغ السلة",fullName:"الاسم الكامل:",phone:"رقم الهاتف:",address:"العنوان:",payment:"طريقة الدفع:",cod:"الدفع عند الاستلام",orderSent:"تم إرسال الطلب بنجاح! سيتم التواصل معك قريبًا.",aboutText:"متجر الأربعاء هو متجرك الموثوق لشراء أفضل إكسسوارات الموبايل والعروض الحصرية.",contactText:"للتواصل:",adminPanel:"لوحة تحكم الإدارة",adminPass:"كلمة مرور الإدارة",login:"دخول",changePass:"تغيير كلمة المرور",addProduct:"إضافة منتج جديد",edit:"تعديل",delete:"حذف",addCategory:"إضافة تصنيف",confirmDelete:"تأكيد حذف المنتج؟",confirmCatDelete:"تأكيد حذف التصنيف؟",newPass:"كلمة المرور الجديدة:",passChanged:"تم تغيير كلمة المرور!",setPass:"تم تعيين كلمة المرور بنجاح! أعد الدخول.",wrongPass:"كلمة مرور خاطئة!",noProducts:"لا توجد منتجات في هذا القسم حالياً.",facebook:"فيسبوك",instagram:"إنستجرام",whatsapp:"واتساب"},
      en: {home:"Home",products:"Products",offers:"Offers",about:"About",contact:"Contact Us",cart:"Cart",ourProducts:"Our Diverse Products",latestOffers:"Latest Offers",wednesdayOffers:"Wednesday Offers",electronics:"Electronics",covers:"Covers",gaming:"Gaming",mobile:"Mobile",all:"All",addToCart:"Add to Cart",checkout:"Checkout",confirmOrder:"Confirm Order",total:"Total",emptyCart:"Cart is empty.",remove:"Remove",clearCart:"Clear Cart",fullName:"Full Name:",phone:"Phone Number:",address:"Address:",payment:"Payment Method:",cod:"Cash on Delivery",orderSent:"Order sent successfully! We will contact you soon.",aboutText:"Wednesday Store is your trusted shop for the best mobile accessories and exclusive offers.",contactText:"Contact:",adminPanel:"Admin Dashboard",adminPass:"Admin Password",login:"Login",changePass:"Change Password",addProduct:"Add New Product",edit:"Edit",delete:"Delete",addCategory:"Add Category",confirmDelete:"Confirm delete product?",confirmCatDelete:"Confirm delete category?",newPass:"New Password:",passChanged:"Password changed!",setPass:"Password set! Please login again.",wrongPass:"Wrong password!",noProducts:"No products in this category yet.",facebook:"Facebook",instagram:"Instagram",whatsapp:"WhatsApp"}
    };
    let currentLang = localStorage.getItem('lang') || 'ar';
    function switchLang() {
      currentLang = currentLang === 'ar' ? 'en' : 'ar';
      localStorage.setItem('lang', currentLang);
      document.documentElement.lang = currentLang;
      document.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
      renderAll();
    }
    // التصنيفات
    let categories = [
      {ar: texts.ar.all, en: texts.en.all},
      {ar: texts.ar.latestOffers, en: texts.en.latestOffers},
      {ar: texts.ar.wednesdayOffers, en: texts.en.wednesdayOffers},
      {ar: texts.ar.electronics, en: texts.en.electronics},
      {ar: texts.ar.covers, en: texts.en.covers},
      {ar: texts.ar.gaming, en: texts.en.gaming},
      {ar: texts.ar.mobile, en: texts.en.mobile}
    ];
    // المنتجات الافتراضية
    let products = JSON.parse(localStorage.getItem('ws_products') || '[]');
    if (products.length === 0) {
      products = [
        {name:{ar:"جراب آيفون 14",en:"iPhone 14 Case"},desc:{ar:"جراب حماية عالي الجودة.",en:"High quality protective case."},cat:texts.ar.covers,price:200,sale:150,onSale:true,latestOffer:true,wednesdayOffer:false,img:""},
        {name:{ar:"سماعة بلوتوث",en:"Bluetooth Headset"},desc:{ar:"صوت نقي وتصميم مريح.",en:"Clear sound and comfortable design."},cat:texts.ar.electronics,price:350,sale:350,onSale:false,latestOffer:false,wednesdayOffer:true,img:""}
      ];
      localStorage.setItem('ws_products', JSON.stringify(products));
    }
    let cart = JSON.parse(localStorage.getItem('ws_cart') || '[]');
    function updateCartCount() {document.getElementById('cartCount').textContent = cart.length;}
    function renderProducts(cat = texts.ar.all) {
      let filtered = cat === texts.ar.all ? products : products.filter(p => {
        if (cat === texts.ar.latestOffers) return p.onSale && p.latestOffer;
        if (cat === texts.ar.wednesdayOffers) return p.wednesdayOffer;
        return p.cat === cat;
      });
      let html = `<div class="section-title">${texts[currentLang].ourProducts}</div>
      <div class="categories-list">` +
        categories.map(c =>
          `<button onclick="renderProducts('${c.ar}')" class="${c.ar === cat ? 'active' : ''}">${c[currentLang]}</button>`
        ).join('') +
      `</div><div class="products-grid">`;
      if (!filtered.length) {
        html += `<div style="color:#888;font-size:1.1rem;">${texts[currentLang].noProducts}</div>`;
      } else {
        html += filtered.map((p, i) => `
          <div class="product-card">
            ${(p.latestOffer ? `<span class="offer-badge">${texts[currentLang].latestOffers}</span>` : "")}
            ${(p.wednesdayOffer ? `<span class="offer-badge">${texts[currentLang].wednesdayOffers}</span>` : "")}
            ${(p.onSale && p.price > p.sale ? `<span class="discount-badge">-${Math.round(100*(p.price-p.sale)/p.price)}%</span>` : "")}
            ${p.img ? `<img src="${p.img}">` : `<img src="https://via.placeholder.com/100x100?text=No+Image">`}
            <div class="cat">${p.cat}</div>
            <div class="name">${p.name[currentLang]}</div>
            <div>
              ${p.onSale && p.price > p.sale ? `<span class="old-price">${p.price} ${currentLang === 'ar' ? "جنيه" : "EGP"}</span>` : ""}
              <span class="price">${p.sale} ${currentLang === 'ar' ? "جنيه" : "EGP"}</span>
            </div>
            <div class="desc">${p.desc[currentLang]}</div>
            <button onclick="addToCart(${i})">${texts[currentLang].addToCart}</button>
          </div>
        `).join('');
      }
      html += `</div>`;
      document.getElementById('mainContent').innerHTML = html;
    }
    function addToCart(idx) {
      cart.push(products[idx]);
      localStorage.setItem('ws_cart', JSON.stringify(cart));
      updateCartCount();
      alert(currentLang === 'ar' ? "تمت إضافة المنتج للسلة!" : "Product added to cart!");
    }
    function showCart() {
      let html = `<div class="section-title">${texts[currentLang].cart}</div>`;
      if (!cart.length) {
        html += `<div style="color:#888;font-size:1.1rem;">${texts[currentLang].emptyCart}</div>`;
      } else {
        let total = cart.reduce((sum, p) => sum + (p.sale || p.price), 0);
        html += `<ul style="list-style:none;padding:0;">` +
          cart.map((p,i) => `<li style="margin-bottom:8px;">
            <b>${p.name[currentLang]}</b> - ${p.sale || p.price} ${currentLang === 'ar' ? "جنيه" : "EGP"}
            <button onclick="removeFromCart(${i})" style="background:#e74c3c;color:#fff;border:none;border-radius:6px;padding:2px 10px;margin-right:8px;cursor:pointer;">${texts[currentLang].remove}</button>
          </li>`).join('') +
        `</ul>
        <div style="font-weight:bold;margin:12px 0;">${texts[currentLang].total}: ${total} ${currentLang === 'ar' ? "جنيه" : "EGP"}</div>
        <button onclick="checkout()" style="background:#ffd700;color:#23272e;padding:10px 24px;border:none;border-radius:8px;font-size:1.1rem;font-weight:bold;cursor:pointer;">${texts[currentLang].checkout}</button>
        <button onclick="clearCart()" style="background:#888;color:#fff;padding:10px 24px;border:none;border-radius:8px;font-size:1.1rem;font-weight:bold;cursor:pointer;margin-right:12px;">${texts[currentLang].clearCart}</button>
        `;
      }
      document.getElementById('mainContent').innerHTML = html;
    }
    function removeFromCart(i) {
      cart.splice(i,1);
      localStorage.setItem('ws_cart', JSON.stringify(cart));
      updateCartCount();
      showCart();
    }
    function clearCart() {
      cart = [];
      localStorage.setItem('ws_cart', JSON.stringify(cart));
      updateCartCount();
      showCart();
    }
    function checkout() {
      let html = `<div class="section-title">${texts[currentLang].checkout}</div>
      <form onsubmit="submitOrder(event)">
        <label>${texts[currentLang].fullName}</label>
        <input required id="cname" style="width:100%;padding:8px;margin-bottom:10px;">
        <label>${texts[currentLang].phone}</label>
        <input required id="cphone" style="width:100%;padding:8px;margin-bottom:10px;">
        <label>${texts[currentLang].address}</label>
        <input required id="caddr" style="width:100%;padding:8px;margin-bottom:10px;">
        <label>${texts[currentLang].payment}</label>
        <select id="cpay" style="width:100%;padding:8px;margin-bottom:10px;">
          <option value="cod">${texts[currentLang].cod}</option>
        </select>
        <button type="submit" style="background:#27ae60;color:#fff;padding:10px 24px;border:none;border-radius:8px;font-size:1.1rem;font-weight:bold;cursor:pointer;margin-top:8px;">${texts[currentLang].confirmOrder}</button>
      </form>`;
      document.getElementById('mainContent').innerHTML = html;
    }
    function submitOrder(e) {
      e.preventDefault();
      clearCart();
      alert(texts[currentLang].orderSent);
      renderProducts();
    }

    // ================== لوحة التحكم بالرابط السري (هاش روتينج) ==================
    function renderDashboard() {
      document.body.innerHTML = `
      <div style="max-width:900px;margin:40px auto;background:#fff;padding:32px 24px;border-radius:14px;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
        <h2 style="color:#23272e;text-align:center;">${texts[currentLang].adminPanel}</h2>
        <button onclick="changeAdminPass()" style="float:left;background:#e74c3c;color:#fff;padding:6px 18px;border:none;border-radius:8px;">${texts[currentLang].changePass}</button>
        <hr style="margin:18px 0;">
        <h3>${texts[currentLang].products}</h3>
        <button onclick="addProduct()" style="background:#25d366;color:#fff;padding:8px 18px;border:none;border-radius:8px;margin-bottom:10px;">${texts[currentLang].addProduct}</button>
        <table border="1" width="100%" style="border-collapse:collapse;">
          <tr><th>الاسم</th><th>الوصف</th><th>التصنيف</th><th>السعر</th><th>سعر العرض</th><th>أحدث العروض</th><th>عروض الأربعاء</th><th>إجراءات</th></tr>
          ${products.map((p,i)=>`<tr>
            <td>${p.name.ar}<br><span style="color:#888">${p.name.en}</span></td>
            <td>${p.desc.ar}<br><span style="color:#888">${p.desc.en}</span></td>
            <td>${p.cat}</td>
            <td>${p.price}</td>
            <td>${p.sale}</td>
            <td>${p.latestOffer ? "✔️" : ""}</td>
            <td>${p.wednesdayOffer ? "✔️" : ""}</td>
            <td>
              <button onclick="editProduct(${i})">${texts[currentLang].edit}</button>
              <button onclick="deleteProduct(${i})" style="background:#e74c3c;color:#fff;">${texts[currentLang].delete}</button>
            </td>
          </tr>`).join('')}
        </table>
      </div>`;
      window.editProduct = function(idx) {
        let p = products[idx];
        let f = prompt("تعديل المنتج (الاسم بالعربية, الاسم بالإنجليزية, الوصف بالعربية, الوصف بالإنجليزية, التصنيف, السعر, سعر العرض, أحدث العروض 1/0, عروض الأربعاء 1/0)", 
          [p.name.ar, p.name.en, p.desc.ar, p.desc.en, p.cat, p.price, p.sale, p.latestOffer?1:0, p.wednesdayOffer?1:0].join(','));
        if (!f) return;
        let arr = f.split(',');
        products[idx] = {
          name: {ar: arr[0], en: arr[1]},
          desc: {ar: arr[2], en: arr[3]},
          cat: arr[4],
          price: +arr[5],
          sale: +arr[6],
          onSale: +arr[6]<+arr[5],
          latestOffer: arr[7]=='1',
          wednesdayOffer: arr[8]=='1',
          img: p.img
        };
        localStorage.setItem('ws_products', JSON.stringify(products));
        renderDashboard();
      }
      window.deleteProduct = function(idx) {
        if (confirm(texts[currentLang].confirmDelete)) {
          products.splice(idx,1);
          localStorage.setItem('ws_products', JSON.stringify(products));
          renderDashboard();
        }
      }
      window.addProduct = function() {
        let f = prompt("إضافة منتج (الاسم بالعربية, الاسم بالإنجليزية, الوصف بالعربية, الوصف بالإنجليزية, التصنيف, السعر, سعر العرض, أحدث العروض 1/0, عروض الأربعاء 1/0)", 
          ",,,,,,,,");
        if (!f) return;
        let arr = f.split(',');
        products.push({
          name: {ar: arr[0], en: arr[1]},
          desc: {ar: arr[2], en: arr[3]},
          cat: arr[4],
          price: +arr[5],
          sale: +arr[6],
          onSale: +arr[6]<+arr[5],
          latestOffer: arr[7]=='1',
          wednesdayOffer: arr[8]=='1',
          img: ""
        });
        localStorage.setItem('ws_products', JSON.stringify(products));
        renderDashboard();
      }
      window.changeAdminPass = function() {
        let np = prompt(texts[currentLang].newPass);
        if (np) {
          localStorage.setItem('ws_admin_pass', np);
          alert(texts[currentLang].passChanged);
        }
      }
    }
    // ======= نظام الحماية بالرابط السري (هاش روتينج) =======
    function checkRoute() {
      if (window.location.hash === "#/ws-admin") {
        let pass = localStorage.getItem('ws_admin_pass');
        if (!pass) {
          let newPass = prompt(texts[currentLang].adminPass);
          if (newPass) {
            localStorage.setItem('ws_admin_pass', newPass);
            alert(texts[currentLang].setPass);
            window.location.reload();
          }
        } else {
          let input = prompt(texts[currentLang].adminPass);
          if (input === pass) {
            renderDashboard();
          } else {
            alert(texts[currentLang].wrongPass);
            window.location.hash = "#/";
            renderAll();
          }
        }
      } else {
        renderAll();
      }
    }
    // ========== ربط التبديل بين المتجر ولوحة التحكم ==========
    window.onhashchange = checkRoute;
    // =================== واجهة المتجر ===================
    function renderAll() {
      // تحديث النصوص في الهيدر
      document.getElementById('navHome').textContent = texts[currentLang].home;
      document.getElementById('navProducts').textContent = texts[currentLang].products;
      document.getElementById('navOffers').textContent = texts[currentLang].offers;
      document.getElementById('navAbout').textContent = texts[currentLang].about;
      document.getElementById('navContact').textContent = texts[currentLang].contact;
      document.querySelector('.lang-switch').textContent = currentLang === 'ar' ? "English" : "العربية";
      updateCartCount();
      renderProducts();
      document.getElementById('navHome').onclick = function(){renderProducts(); return false;}
      document.getElementById('navProducts').onclick = function(){renderProducts(); return false;}
      document.getElementById('navOffers').onclick = function(){renderProducts(texts.ar.latestOffers); return false;}
      document.getElementById('navAbout').onclick = function(){
        document.getElementById('mainContent').innerHTML = `<div class="section-title">${texts[currentLang].about}</div>
        <div style="font-size:1.1rem;">${texts[currentLang].aboutText}</div>`;
        return false;
      }
      document.getElementById('navContact').onclick = function(){
        document.getElementById('mainContent').innerHTML = `<div class="section-title">${texts[currentLang].contact}</div>
        <div style="font-size:1.1rem;">
          <p><i class="fab fa-whatsapp"></i> ${texts[currentLang].whatsapp}: <a href="https://wa.me/201013154821" target="_blank">201013154821</a></p>
          <p><i class="fab fa-facebook-f"></i> ${texts[currentLang].facebook}: <a href="https://www.facebook.com/profile.php?id=61578187973897&sk=about" target="_blank">${texts[currentLang].facebook}</a></p>
          <p><i class="fab fa-instagram"></i> ${texts[currentLang].instagram}: <a href="https://www.instagram.com/wednesdaystore2025/" target="_blank">@wednesdaystore2025</a></p>
        </div>`;
        return false;
      }
    }
    // عند تحميل الصفحة، تحقق من الرابط
    checkRoute();
  </script>
</body>
</html>
